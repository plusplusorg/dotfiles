{{ if eq .chezmoi.os "linux" -}}
#!/bin/bash

set -eufo pipefail

echo 'eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"' >> $HOME/.bashrc
eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
. $HOME/.bashrc

{{ $brews := list
"cdktf"
"gh"
"zsh"
"node@14"
"node@16"
"node@17"
"aws-vault"
"bitwarden-cli"
"deno"
"docker"
"docker-compose"
"exercism"
"fswatch"
"fzf"
"git"
"stow"
"helm"
"kubernetes-cli"
"leela-zero"
"nginx"
"python"
"terraform"
"vault"
"yarn"
"tldr"
"bat"
"gcc"
"pnpm"
"typescript"
-}}

brew bundle --no-lock --file=/dev/stdin <<EOF
{{ range ($brews | sortAlpha | uniq) -}}
brew "{{ . }}"
{{ end -}}
EOF
{{ end -}}
